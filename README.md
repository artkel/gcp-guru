# GCP Guru - Professional Cloud Architect Exam Prep

A sophisticated flashcard learning application for Google Cloud Platform Professional Cloud Architect certification preparation, featuring AI-powered explanations, interactive session history charts, and comprehensive progress tracking.

## ✨ Latest Updates (v2.0)

- **🎯 Next.js Migration**: Complete frontend rewrite with modern React components
- **📊 Interactive Session History**: Visual charts showing daily progress with color-coded correct/incorrect answers
- **🎨 Modern UI Components**: Clean, accessible design with Radix UI and Tailwind CSS
- **🔄 Session Persistence**: Seamless page refresh experience - stay on your current screen with all progress intact
- **🚨 Enhanced Confirmation Dialogs**: Beautiful React modals replace browser default popups
- **⚙️ Selective Progress Reset**: Choose exactly which data to reset (scores, session history, stars, notes, training time)
- **🎯 Improved Text Contrast**: Better readability for answer feedback

## Features

### 🎯 **Smart Learning System**
- Adaptive question selection based on performance
- Spaced repetition algorithm preventing question repetition in same session
- Domain-specific training sessions with customizable tag filtering
- Progress-based scoring system (Mistakes → Learning → Mastered → Perfected)

### 🧠 **AI-Powered Assistance**
- **AI Explanations**: Detailed explanations generated by Google Gemini 2.5 Flash Lite
- **Smart Hints**: Contextual hints without revealing answers
- **Regenerate Content**: Get alternative explanations with different perspectives
- **Intelligent Caching**: Explanations and hints are cached for performance

### 📊 **Advanced Progress Dashboard**
- **Enhanced Progress Categories**:
  - 🔴 **Mistakes** (-1): Questions answered incorrectly
  - 🟡 **Learning** (0-1): Questions being learned
  - 🟢 **Mastered** (2-3): Well-understood questions
  - 🟣 **Perfected** (4+): Fully mastered questions (excluded from training)
- **Topic-Based Analytics**: Performance tracking by GCP domain
- **Interactive Session History Chart**: 30-day visual timeline with stacked bars
- **Mastery Metrics**: Color-coded progress indicators with percentage calculations
- **Training Time Tracking**: Total study time with detailed session breakdowns

### 🎨 **Modern User Experience**
- **Responsive Design**: Works perfectly on desktop, tablet, and mobile
- **Session Persistence**: Page refreshes preserve your exact training state
- **Loading States**: Smooth transitions and professional loading indicators
- **Confirmation Dialogs**: Beautiful modals for important actions
- **Accessible Components**: Screen reader friendly with keyboard navigation

### 🚀 **Modern Tech Stack**
- **Backend**: FastAPI with Python, async/await patterns
- **Frontend**: Next.js 14 with TypeScript and React 18
- **State Management**: Zustand with localStorage persistence
- **UI Components**: Radix UI primitives with Tailwind CSS
- **Charts**: Recharts for interactive data visualization
- **AI Integration**: Google Gemini API with robust error handling
- **Data Storage**: JSON-based with automatic session persistence
- **Cloud Deployment**: Google Cloud Run with cost-optimized scaling

## Quick Start

### Prerequisites
- **Node.js** 18+ (for frontend)
- **Python** 3.8+ (for backend)
- **Google Gemini API key** (for AI features)

### Deployment Options

**🌍 Live Version**: Access the deployed app at [graspdatascience.com](https://graspdatascience.com)
- Deployed on Google Cloud Platform (Europe-West3 region)
- Cost-optimized with zero scaling (near $0 monthly cost)
- May have 2-3 second cold start on first request after inactivity

**💻 Local Development**: Run on your machine for development

### Local Installation

1. **Clone the repository**:
   ```bash
   git clone https://github.com/artkel/gcp-guru.git
   cd gcp-guru
   ```

2. **Set up environment**:
   ```bash
   # Create .env file in project root
   echo "GOOGLE_API_KEY=your_gemini_api_key_here" > .env
   ```

3. **Install backend dependencies**:
   ```bash
   cd backend
   python -m venv venv
   source venv/bin/activate  # On Windows: venv\Scripts\activate
   pip install -r requirements.txt
   ```

4. **Install frontend dependencies**:
   ```bash
   cd ../frontend
   npm install
   ```

5. **Start the application**:
   ```bash
   # From project root - starts both backend and frontend
   npm run dev
   ```

6. **Access the application**:
   - Open your browser to `http://localhost:3000` (or the port shown in console)
   - Start your first training session!

### Alternative: Manual Startup

If you prefer to run services separately:

```bash
# Terminal 1: Backend
cd backend
source venv/bin/activate
uvicorn main:app --reload --host 0.0.0.0 --port 8000

# Terminal 2: Frontend
cd frontend
npm run dev
```

## Project Structure

```
gcp-guru/
├── backend/                    # FastAPI Backend
│   ├── models/                # Pydantic data models
│   │   ├── question.py        # Question and answer models
│   │   └── progress.py        # Progress and session models
│   ├── routers/               # FastAPI route handlers
│   │   ├── questions.py       # Question CRUD and submission
│   │   └── progress.py        # Progress tracking and analytics
│   ├── services/              # Business logic
│   │   ├── ai_service.py      # Gemini AI integration
│   │   ├── gcs_service.py     # Google Cloud Storage integration
│   │   ├── question_service.py # Question management
│   │   └── progress_service.py # Session and progress tracking
│   ├── main.py                # FastAPI application entry point
│   ├── requirements.txt       # Python dependencies
│   ├── Dockerfile            # Docker container configuration
│   └── venv/                  # Python virtual environment (local only)
├── frontend/                   # Next.js Frontend
│   ├── src/
│   │   ├── app/               # App router pages
│   │   ├── components/        # React components
│   │   │   ├── charts/        # Chart components (Recharts)
│   │   │   ├── screens/       # Main application screens
│   │   │   └── ui/            # Reusable UI components
│   │   ├── hooks/             # Custom React hooks
│   │   ├── lib/               # Utilities and API client
│   │   └── types/             # TypeScript type definitions
│   ├── package.json           # Node.js dependencies
│   ├── tailwind.config.js     # Tailwind CSS configuration
│   ├── next.config.js         # Next.js configuration
│   └── Dockerfile            # Docker container configuration
├── data/                      # Application data (local development)
│   ├── gcp-pca-questions.json # Question database (290+ questions)
│   └── session_history.json  # Session tracking data
├── documentation/             # Deployment and setup guides
│   └── DEPLOYMENT_GUIDE.md   # Complete GCP deployment instructions
├── deploy.sh                  # Automated deployment script
├── DEPLOY_README.md          # Deployment quick start guide
├── .env                       # Environment configuration
├── package.json               # Root package.json for dev scripts
└── README.md                  # This file
```

## Key Features Explained

### Session Persistence
Your training progress is automatically saved across page refreshes:
- ✅ **Current screen**: Stay exactly where you were
- ✅ **Session stats**: Questions answered, score, accuracy preserved
- ✅ **Current question**: Don't lose your place mid-question
- ✅ **Selected answers**: Your choices are remembered
- ✅ **Session timer**: Continues from exact elapsed time

### Interactive Session History Chart
- 📊 **30-day timeline**: Visual representation of your daily progress
- 🟢 **Color-coded bars**: Green for correct answers, red for incorrect
- 💡 **Rich tooltips**: Hover for detailed stats (total, accuracy, date)
- 📱 **Responsive design**: Works on all screen sizes
- 🎯 **Empty state handling**: Friendly message when no data exists

### Selective Progress Reset
Choose exactly what to reset with granular controls:
- 📊 **Question Scores**: Reset all scores to 0 (fresh start)
- 📅 **Session History**: Clear all session records
- ⭐ **Stars**: Remove all starred questions
- 📝 **Notes**: Delete all personal notes
- ⏱️ **Training Time**: Reset time tracking statistics

### AI Integration
- **Gemini 2.5 Flash Lite**: Fast, accurate explanations
- **Contextual explanations**: Based on your specific answer choices
- **Smart hint system**: Guides learning without giving away answers
- **Content regeneration**: Get fresh perspectives on explanations
- **Robust error handling**: Graceful fallbacks if AI service is unavailable

## Configuration

### Environment Variables
Create a `.env` file in the project root:
```env
# Google Gemini API Configuration
GOOGLE_API_KEY=your_gemini_api_key_here
```

### Customization Options

#### Questions Database
Edit `data/gcp-pca-questions.json` to add or modify questions:
```json
{
  "question_number": 1,
  "question_text": "Your question here...",
  "answers": {
    "a": {"answer_text": "Option A", "status": "correct"},
    "b": {"answer_text": "Option B", "status": "incorrect"}
  },
  "tag": ["compute", "security"],
  "score": 0,
  "starred": false,
  "note": ""
}
```

#### UI Theming
- **Colors**: Modify `frontend/tailwind.config.js` for custom color schemes
- **Components**: Edit component files in `frontend/src/components/ui/`
- **Layout**: Adjust screen components in `frontend/src/components/screens/`

#### AI Prompts
Customize AI behavior in `backend/services/ai_service.py`:
- Explanation prompts for different learning styles
- Hint generation strategies
- Response formatting preferences

## Development

### Scripts
```bash
# Root level
npm run dev          # Start both backend and frontend
npm run backend      # Start backend only
npm run frontend     # Start frontend only

# Frontend specific
cd frontend
npm run dev          # Development server
npm run build        # Production build
npm run lint         # Code linting
npm run type-check   # TypeScript checking

# Backend specific
cd backend
python -m uvicorn main:app --reload  # Development server
```

### API Endpoints

#### Questions
- `GET /api/questions/random?tags=compute,security` - Get random question
- `POST /api/questions/{id}/answer` - Submit answer
- `GET /api/questions/{id}/hint` - Get AI hint
- `GET /api/questions/{id}/explanation` - Get AI explanation
- `POST /api/questions/{id}/star?starred=true` - Toggle star
- `POST /api/questions/{id}/note?note=text` - Update note

#### Progress
- `GET /api/progress` - Get comprehensive progress data
- `POST /api/progress/session/start` - Start new session
- `POST /api/progress/reset` - Reset selected progress data
- `POST /api/progress/clear-explanations` - Clear all AI explanations
- `POST /api/progress/clear-hints` - Clear all AI hints

#### Tags
- `GET /api/tags` - Get available question tags/domains

## Cloud Deployment

**🚀 Live Production Version**: [graspdatascience.com](https://graspdatascience.com)

The application is deployed on Google Cloud Platform with:
- **Backend**: FastAPI on Cloud Run (europe-west3 region)
- **Frontend**: Next.js on Cloud Run (europe-west3 region)
- **Storage**: Google Cloud Storage for question data and session history
- **Cost Optimization**: Auto-scales to zero when unused (near $0 monthly cost)

For detailed deployment instructions, see:
- [`documentation/DEPLOYMENT_GUIDE.md`](documentation/DEPLOYMENT_GUIDE.md) - Complete deployment walkthrough
- [`DEPLOY_README.md`](DEPLOY_README.md) - Quick deployment reference
- [`deploy.sh`](deploy.sh) - Automated deployment script

## Troubleshooting

### Common Issues

**AI features not working:**
1. Verify your `GOOGLE_API_KEY` in `.env` (local) or environment variables (cloud)
2. Check the API key format (no spaces around `=`)
3. Restart the backend server after changing `.env`

**Session history chart not showing data:**
1. Complete at least one training session
2. Check `data/session_history.json` exists (local) or GCS bucket (cloud)
3. Refresh the page to reload data

**Page refresh goes to start screen:**
1. Clear browser localStorage if upgrading from old version
2. Hard refresh the page (Ctrl+Shift+R / Cmd+Shift+R)

**Frontend not connecting to backend:**
1. **Local**: Ensure backend is running on port 8000
2. **Local**: Check Next.js proxy configuration in `next.config.js`
3. **Cloud**: Check environment variable `NEXT_PUBLIC_API_URL` is set correctly
4. Verify no CORS issues in browser console

**Cold start delays (Cloud deployment):**
1. First request after inactivity may take 2-3 seconds (normal behavior)
2. Subsequent requests will be fast while container is warm
3. This is expected with cost-optimized `min-instances=0` configuration

### Development Tips

1. **Hot Reload**: Both frontend and backend support hot reload
2. **TypeScript**: Use `npm run type-check` to catch type errors
3. **Debugging**: Check browser console and terminal output
4. **Database**: Questions and progress data are in JSON files
5. **State Management**: Use browser dev tools to inspect Zustand store

## Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Make your changes
4. Run tests and linting
5. Commit changes (`git commit -m 'Add amazing feature'`)
6. Push to branch (`git push origin feature/amazing-feature`)
7. Open a Pull Request

### Code Style
- **Frontend**: ESLint + Prettier for TypeScript/React
- **Backend**: Black + isort for Python formatting
- **Commits**: Conventional commit messages preferred

## License

This project is open source and available under the [MIT License](LICENSE).

## Acknowledgments

- **Google Cloud Platform** for the comprehensive exam content
- **Google Gemini AI** for intelligent explanations and hints
- **Radix UI** for accessible component primitives
- **Recharts** for beautiful data visualization
- **Next.js Team** for the excellent React framework
- **FastAPI** for the modern Python backend framework

---

## Live Application

**🌐 [graspdatascience.com](https://graspdatascience.com)** - Start studying immediately!

**Ready to ace your GCP Professional Cloud Architect certification? Start learning with GCP Guru today!** 🚀

*Built with ❤️ for the GCP community*

### Performance Notes
- **First visit**: May take 2-3 seconds to load (cold start)
- **Subsequent usage**: Fast and responsive
- **Cost-optimized**: Scales to zero when unused
- **Region**: Deployed in Europe-West3 (Frankfurt) for optimal European access